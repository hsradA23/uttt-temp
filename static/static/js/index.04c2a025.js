(()=>{"use strict";var e={519:function(e,t,r){var n,a,s=r("893"),o=r("294"),l=r("745"),i=-1;async function u(e){let t="";t=window.location.origin+"/get_game";let r="?Name="+e,n="";for(;""==n;){let e=await fetch(t+r);n=await e.text()}return n}function c(e){return 0==e?"":1==e?"\u2718":"\u2B58"}let d=e=>{let{board_data:t,board_num:r,winners:a}=e,o=[];for(let e=0;e<3;e++){let a=[];for(let o=0;o<3;o++)a.push((0,s.jsx)("div",{className:"cell",onClick:()=>{var t,a;return t=r,a=3*e+o,void n.send(`move ${t} ${a}`)},children:c(t[r][3*e+o])}));o.push((0,s.jsxs)("div",{className:"row",children:[" ",a," "]}))}return(0,s.jsxs)("div",{className:"ttt",id:`board-${r}`,children:[(0,s.jsx)("div",{className:"winner",children:c(a[r])}),o]})},f=e=>{let{myTurn:t,board_data:r,winners:n,gameID:a,created:o}=e,l=[];for(let e=0;e<3;e++){let t=[];for(let a=0;a<3;a++)t.push((0,s.jsx)(d,{winners:n,board_data:r,board_num:3*e+a}));l.push((0,s.jsx)("div",{className:"row",children:t}))}return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:["Game ID: ",a]}),(0,s.jsx)("div",{children:t?"Make your move.":"Waiting for opponents move."}),l]})},v=e=>{let{setMyTurn:t,setCreated:r,user:a,setUser:o,gameID:l,setGameID:i,setLoggedin:u}=e;return(0,s.jsxs)("div",{className:"login",children:[(0,s.jsx)("input",{placeholder:"Username",value:a,onChange:e=>o(e.target.value)}),(0,s.jsx)("input",{placeholder:"Game Id",value:l,onChange:e=>i(e.target.value)}),(0,s.jsxs)("button",{onClick:()=>{r(""==l),t(""==l),u(function(e,t){let r="";if(r=window.location.origin+"/ws",""==e)return!1;let a="?Name="+e;""!=t&&(a+="&Game="+t);try{n=new WebSocket(r+a)}catch{return!1}return!0}(a,l))},children:[""==l?"Create Game":"Join Game"," "]})]})},m=document.getElementById("root");m&&l.createRoot(m).render((0,s.jsx)(o.StrictMode,{children:(0,s.jsx)(()=>{let[e,t]=(0,o.useState)(function(){let e=[];for(let t=0;t<9;t++)e.push(Array(9).fill(0));return e}()),[r,l]=(0,o.useState)(Array(9).fill(0)),[c,d]=(0,o.useState)(""),[m,h]=(0,o.useState)(""),[p,g]=(0,o.useState)(!1),[x,b]=(0,o.useState)(!1),[j,w]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{console.log(r)},[r]),(0,o.useEffect)(()=>{if(!0==p){var s,o,d,f,v,g,j;n.onmessage=(s=e,o=t,d=r,f=l,v=x,g=0,j=w,function(e){let t=e.data;console.log(t);let r=t.split(" ");if("move"==r[0]){let e=[...s],t=Number(r[1]),n=Number(r[2]),l=r[3];"P1"==l?e[t][n]=1:e[t][n]=2,o([...e]),0==d[n]?(null==a||a.classList.remove("activettt"),null==(a=document.getElementById(`board-${n}`))||a.classList.add("activettt")):null==a||a.classList.remove("activettt"),v&&"P2"==l?j(!0):v||"P1"!=l?j(!1):j(!0),i=n}else"boardwin"==r[0]&&(d[Number(r[1])]="P1"==r[2]?1:2,f([...d]),0!=d[i]&&(null==a||a.classList.remove("activettt")))}),""==m&&b(!0)}""!=c&&u(c).then(e=>h(e))},[p]),(0,s.jsx)("div",{className:"content",children:!1==p?(0,s.jsx)(v,{setCreated:b,user:c,setUser:d,gameID:m,setGameID:h,setLoggedin:g,setMyTurn:w}):(0,s.jsx)(f,{myTurn:j,created:x,gameID:m,winners:r,board_data:e})})},{})}))}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.m=e,r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},(()=>{var e=[];r.O=function(t,n,a,s){if(n){s=s||0;for(var o=e.length;o>0&&e[o-1][2]>s;o--)e[o]=e[o-1];e[o]=[n,a,s];return}for(var l=1/0,o=0;o<e.length;o++){for(var n=e[o][0],a=e[o][1],s=e[o][2],i=!0,u=0;u<n.length;u++)(!1&s||l>=s)&&Object.keys(r.O).every(function(e){return r.O[e](n[u])})?n.splice(u--,1):(i=!1,s<l&&(l=s));if(i){e.splice(o--,1);var c=a();void 0!==c&&(t=c)}}return t}})(),r.rv=function(){return"1.0.0-beta.0"},(()=>{var e={980:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var a=n[0],s=n[1],o=n[2],l,i,u=0;if(a.some(function(t){return 0!==e[t]})){for(l in s)r.o(s,l)&&(r.m[l]=s[l]);if(o)var c=o(r)}for(t&&t(n);u<a.length;u++)i=a[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},n=self.webpackChunkuttt_frontend=self.webpackChunkuttt_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.ruid="bundler=rspack@1.0.0-beta.0";var n=r.O(void 0,["361"],function(){return r("519")});n=r.O(n)})();